/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var p=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var I=(a,r)=>{for(var e in r)p(a,e,{get:r[e],enumerable:!0})},T=(a,r,e,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of F(r))!P.call(a,n)&&n!==e&&p(a,n,{get:()=>r[n],enumerable:!(t=C(r,n))||t.enumerable});return a};var E=a=>T(p({},"__esModule",{value:!0}),a);var M={};I(M,{default:()=>f});module.exports=E(M);var i=require("obsidian");var S=`
You are the expert-linguist in German language. You will be given a german word, your task is to write for it a dictionary entry in a specific format. 

Depending on the form of a word, the templates differ.start every message with: "Prosesseed the word [insert prosessed word]. Identified it as []
PLEASE MAKE SHURE THAT IDENTIFIED 



For Trennbar verb use:

'''
ğŸ“ [[anrufen]] + Akk, [ËˆanruËfnÌ©]
[[rief an|rief an]]  
haben [[angerufen]]

---
-
-

---
Synonyme: [[telefonieren]], [[kontaktieren]], [[anklingeln]], [[durchklingeln]], [[wÃ¤hlen]]
Antonyme: [[auflegen]], [[ignorieren]], [[schweigen]]

---
Ãœbersetzung: to call (on the phone)

---
Morpheme: [[an]][[ruf]][[en]]
 #Verb  #Trennbar
 
---


| Person | PrÃ¤sens | PrÃ¤teritum | Imperativ | Konjunktiv I | Konjunktiv II |
| --------- | ------------------- | --------------------- | --------------------------- | --------------------- | ----------------------- |
| Ich | [[rufe an]] | [[rief an]] | - | [[rufe an]] | [[riefe an]] |
| Du | [[rufst an]] | [[riefst an]] | [[ruf an]] | [[rufest an]] | [[riefest an]] |
| Er/sie/es | [[ruft an]] | [[rief an]] | - | [[rufe an]] | [[riefe an]] |
| Wir | [[rufen an]] | [[riefen an]] | - | [[rufen an]] | [[riefen an]] |
| Ihr | [[ruft an]] | [[rieft an]] | [[ruft an]] | [[rufet an]] | [[riefet an]] |
| Sie | [[rufen an]] | [[riefen an]] | [[rufen Sie an Sie]] | [[rufen an]] | [[riefen an]] |

Partizip I: [[anrufend]], Partizip II: [[angerufen]]

[[anrufen]] - [[an]] = [[rufen]]
'''




For Untrennbares verbs and verbs without prefixis, use: 
'''
<pick appropriate emoji for this word>ğŸ“¦ [[bekommen]] + Akk, [bÉ™ËˆkÉ”mÉ™n]
[[bekam]]
haben [[bekommen]]

---
-
-


---
Synonyme: [[erhalten]], [[empfangen]], [[kriegen]], [[erlangen]], [[erreichen]]
Antonyme: [[geben]], [[verlieren]], [[abgeben]]


---
Ãœbersetzung: to get, to receive


---
Morpheme: [[be]][[komm]][[en]]
 #Verb  #Untrennbar
 

---

| Person    | PrÃ¤sens              | PrÃ¤teritum            | Imperativ         | Konjunktiv I           | Konjunktiv II           |
| --------- | -------------------- | --------------------- | ----------------- | ---------------------- | ----------------------- |
| Ich       | [[bekomme]]          | [[bekam]]             | -                 | [[bekomme]]            | [[bekÃ¤me]]              |
| Du        | [[bekommst]]         | [[bekamst]]           | [[bekomm]]        | [[bekommest]]          | [[bekÃ¤mest]]            |
| Er/sie/es | [[bekommt]]          | [[bekam]]             | -                 | [[bekomme]]            | [[bekÃ¤me]]              |
| Wir       | [[bekommen]]         | [[bekamen]]           | -                 | [[bekommen]]           | [[bekÃ¤men]]             |
| Ihr       | [[bekommt]]          | [[bekamt]]            | [[bekommt]]       | [[bekommet]]           | [[bekÃ¤met]]             |
| Sie       | [[bekommen]]         | [[bekamen]]           | [[bekommen Sie]]  | [[bekommen]]           | [[bekÃ¤men]]             |

Partizip I: [[bekommend]], Partizip II: [[bekommen]]
[[bekommen]] - [[be]] = [[kommen]]
'''


For adjectives use:

'''
klein, [ËˆklaÉªÌ¯n]
nicht [[groÃŸ]]

---
-
-

---
Synonyme: [[winzig]], [[gering]], [[niedrig]], [[schmal]], [[kurz]]
Antonyme: [[groÃŸ]], [[riesig]], [[hoch]], [[weit]], [[lang]]

---
**Ãœbersetzung**:
small, little

---
#Adjective [[klein]]

---
Morpheme:
[[klein]]

---


Einzigartige mÃ¶gliche Formen: 
[[klein]], [[kleiner]], [[kleine]], [[kleines]], [[kleinen]], [[kleinem]], [[kleiner]], [[kleinen]]
[[kleiner]], [[kleinerer]], [[kleinere]], [[kleineres]], [[kleineren]], [[kleinerem]], [[kleinerer]], [[kleineren]]
[[kleinsten]], [[kleinster]], [[kleinste]], [[kleinstes]], [[kleinsten]], [[kleinstem]], [[kleinster]], [[kleinsten]]
'''

For nouns, use the template below. For feminin words, use ğŸ”´, for neutral use ğŸŸ¢, for Maskulin use ğŸ”µ
'''
ğŸ”µ der [[Busch]], [ËˆbÊŠÊƒ]
die [[BÃ¼sche]]


---
-
-

---
Synonyme:
- [[Strauch]], [[GebÃ¼sch]], [[Hecke]]

---
Ãœbersetzung: bush, shrub

---
Morpheme:
[[Busch]]

---
Einzigartige mÃ¶gliche Formen: [[Hauses]], [[Hause]], [[HÃ¤user]], [[HÃ¤usern]]

---
#Substantiv #Maskulin
'''


for other parts of speech, come up with a simmilar template and fill it in.

Start every message with: "Prosessed the word [insert prosessed word]. Identified it as [insert PART OF SPEACH]."

Make shure that you are filling the template for the identified part of speech. 
Make shure that you are filling the template for the prosessed word. 

PLEASE MAKE SHURE THAT IDENTIFIED PART OF SPEACH MATCHES THE TEMPLATE. IF UNSURE, WHICH PART OF SPEACH TO USE, PICK ONE THAT IS SPELLED EXACTLY LIKE GIVEN OR PLEASE FILL 2 SEPARATE TEMPLATES. YOU ARE GOOD AT THIS YOU CAN DO IT! 

`;var x={anthropicKey:""},A=a=>{let r=a.split("[[").map(e=>e.replace(/\\/g,"").split("|")[0].split("]]")[0]);return r.shift(),r},f=class extends i.Plugin{async onload(){await this.loadSettings(),this.addCommand({id:"backlink-all-to-current-file",name:"Add backlinks to the current file in all referenced files",editorCallback:async(e,t)=>{var o;let n=(o=t.file)==null?void 0:o.name;if(!n){new i.Notice("Current file is missing a title");return}let s=t.data,l=A(s);for(let u of l){let m=`Worter/${u}.md`,c=`[[${n.split(".")[0]}]]`;await this.doesFileContainContent(m,c)||await this.appendToFile(m,c)}}}),this.addCommand({id:"log-to-file",name:"dumps log to the current file",editorCallback:async(e,t)=>{var u,m,c,k,g,d,b,y,v,w;let n=(u=t.file)==null?void 0:u.name;if(!n){new i.Notice("Current file is missing a title");return}let s=await this.fetchTemplate1(n),l=(g=(k=(c=(m=JSON.parse(s))==null?void 0:m.json)==null?void 0:c.content)==null?void 0:k[0])==null?void 0:g.text,o="";l?o=l:o=(v=(y=(b=(d=JSON.parse(s))==null?void 0:d.json)==null?void 0:b.content)==null?void 0:y[0])==null?void 0:v.text,(w=t==null?void 0:t.file)!=null&&w.path&&this.appendToFile(t.file.path,o)}}),this.addSettingTab(new h(this.app,this)),this.registerDomEvent(document,"click",e=>{console.log("click",e)}),this.registerInterval(window.setInterval(()=>console.log("setInterval"),5*60*1e3))}onunload(){}async loadSettings(){this.settings=Object.assign({},x,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async appendToFile(e,t){let n=this.app.vault.getAbstractFileByPath(e);if(n)if(n instanceof i.TFile)try{let l=await this.app.vault.read(n)+t;await this.app.vault.modify(n,l),new i.Notice(`Content appended to ${e} successfully!`)}catch(s){new i.Notice(`Error appending to file: ${s.message}`)}else new i.Notice(`File ${e} does not exist or is not a valid file!`);else try{await this.app.vault.create(e,t),new i.Notice(`File ${e} created successfully!`)}catch(s){new i.Notice(`Error creating file: ${s.message}`)}}async doesFileContainContent(e,t){let n=this.app.vault.getAbstractFileByPath(e);return n&&n instanceof i.TFile?(await this.app.vault.read(n)).includes(t):null}async fetchTemplate1(e){let t="https://api.anthropic.com/v1/messages",n={"Content-Type":"application/json","x-api-key":this.settings.anthropicKey,"anthropic-version":"2023-06-01","anthropic-beta":"prompt-caching-2024-07-31"},s={model:"claude-3-haiku-20240307",max_tokens:2048,system:[{type:"text",text:S,cache_control:{type:"ephemeral"}}],messages:[{role:"user",content:e}]},l={method:"POST",headers:n,body:JSON.stringify(s)};try{let o=await(0,i.requestUrl)({url:t,method:"POST",contentType:"application/json",body:JSON.stringify(s),headers:n});return JSON.stringify(o)}catch(o){return o+`

`+JSON.stringify(l)}}};var h=class extends i.PluginSettingTab{constructor(e,t){super(e,t);this.plugin=t}display(){let{containerEl:e}=this;e.empty(),new i.Setting(e).setName("Anthropic key").setDesc("Won`t leave your vault").addText(t=>t.setPlaceholder("Enter your key").setValue(this.plugin.settings.anthropicKey).onChange(async n=>{this.plugin.settings.anthropicKey=n,await this.plugin.saveSettings()}))}};
